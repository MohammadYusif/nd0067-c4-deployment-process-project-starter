# Pipeline Diagram

## CI/CD Pipeline Overview

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                 CIRCLECI PIPELINE                                        │
└─────────────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────┐
│    DEVELOPER    │
│                 │
│  git push       │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│     GITHUB      │
│                 │
│  Repository     │
│  (Trigger)      │
└────────┬────────┘
         │
         ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                    BUILD JOB                                             │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│  ┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐│
│  │ 1. Install       │  │ 2. Install       │  │ 3. Lint          │  │ 4. Build         ││
│  │    Node.js 14    │─▶│    Dependencies  │─▶│    Frontend      │─▶│    Frontend      ││
│  │                  │  │                  │  │                  │  │                  ││
│  │ - node: 14.15   │  │ - frontend:install│  │ - frontend:lint  │  │ - frontend:build ││
│  │ - checkout repo  │  │ - api:install    │  │ - ng lint        │  │ - ng build       ││
│  └──────────────────┘  └──────────────────┘  └──────────────────┘  └────────┬─────────┘│
│                                                                              │          │
│                                                                              ▼          │
│                                                                   ┌──────────────────┐ │
│                                                                   │ 5. Build         │ │
│                                                                   │    Backend API   │ │
│                                                                   │                  │ │
│                                                                   │ - api:build      │ │
│                                                                   │ - tsc compile    │ │
│                                                                   │ - create archive │ │
│                                                                   └────────┬─────────┘ │
│                                                                            │           │
└────────────────────────────────────────────────────────────────────────────┼───────────┘
                                                                             │
                                        (master branch only)                 │
                                                                             ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                    HOLD JOB                                              │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│                           ┌──────────────────────────────┐                              │
│                           │     MANUAL APPROVAL          │                              │
│                           │                              │                              │
│                           │  - Review changes            │                              │
│                           │  - Approve deployment        │                              │
│                           │  - Gate before production    │                              │
│                           │                              │                              │
│                           └──────────────┬───────────────┘                              │
│                                          │                                              │
└──────────────────────────────────────────┼──────────────────────────────────────────────┘
                                           │
                                           ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                   DEPLOY JOB                                             │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│  ┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐│
│  │ 1. Setup         │  │ 2. Setup         │  │ 3. Deploy        │  │ 4. Deploy        ││
│  │    Environment   │─▶│    AWS CLI       │─▶│    Backend API   │─▶│    Frontend      ││
│  │                  │  │                  │  │                  │  │                  ││
│  │ - Node.js 14     │  │ - AWS CLI v3     │  │ - eb deploy      │  │ - aws s3 cp      ││
│  │ - EB CLI         │  │ - credentials    │  │ - Elastic        │  │ - S3 bucket      ││
│  │ - checkout       │  │                  │  │   Beanstalk      │  │ - Static files   ││
│  └──────────────────┘  └──────────────────┘  └──────────────────┘  └────────┬─────────┘│
│                                                                              │          │
└──────────────────────────────────────────────────────────────────────────────┼──────────┘
                                                                               │
                                                                               ▼
                              ┌─────────────────────────────────────────────────────────┐
                              │                    AWS DEPLOYMENT                        │
                              ├─────────────────────────────────────────────────────────┤
                              │                                                         │
                              │   ┌─────────────────┐      ┌─────────────────┐          │
                              │   │ Elastic         │      │ S3 Bucket       │          │
                              │   │ Beanstalk       │      │ (Frontend)      │          │
                              │   │ (Backend API)   │      │                 │          │
                              │   │                 │      │ www files       │          │
                              │   │ Archive.zip     │      │ index.html      │          │
                              │   └─────────────────┘      └─────────────────┘          │
                              │                                                         │
                              └─────────────────────────────────────────────────────────┘
```

## Pipeline Stages Summary

| Stage | Trigger | Actions |
|-------|---------|---------|
| Build | Every push | Install deps, lint, build |
| Hold | Build success (master only) | Manual approval required |
| Deploy | After approval | Deploy to AWS (EB + S3) |

## Creating an Image Diagram

For submission, create an image diagram using:
- **draw.io** (diagrams.net)
- **Lucidchart**

Save as PNG in `docs/screenshots/` folder.
